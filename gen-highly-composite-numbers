#!/usr/bin/env perl6

sub num-of-divisors(Int $n) {
    return 2 if $n.is-prime;
    my $count = 2;
    for 2..Int($n/2) -> $x {
        $count++ if $n % $x == 0;
    }
    return $count;
}

my $current_max = 0;
(2..*).grep(-> $n {
    my $divisors = num-of-divisors($n);
    my $r;

    $current_max = $divisors if $r = $divisors > $current_max;
    $r;
}).map({ .say });


